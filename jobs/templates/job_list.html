{% extends "base.html" %}

{% block content %}

<div class="hero text-center">
    <h1>Explore Job Opportunities</h1>
    <p class="lead">Find your next career move from our latest postings.</p>
</div>

<div id="jobContainer" class="row g-4"></div>

<script>
async function loadJobs() {
    let res = await fetch("/api/jobs/");
    let jobs = await res.json();

    let container = document.getElementById("jobContainer");
    container.innerHTML = "";

    jobs.forEach(job => {
        container.innerHTML += `
            <div class="col-md-6 col-lg-4">
                <div class="card shadow-sm h-100 border-0">
                    <div class="card-body">
                        <h4 class="card-title mb-3">${job.title}</h4>
                        <p class="text-muted">${job.description}</p>

                        <p class="mb-1"><span class="fw-semibold">Experience:</span> ${job.experience}</p>
                        <p><span class="fw-semibold">Location:</span> ${job.location}</p>
                    </div>
                    <div class="card-footer text-end bg-white border-0">
                        <small class="text-muted">Posted on ${new Date(job.created_at).toLocaleDateString()}</small>
                    </div>
                </div>
            </div>
        `;
    });
}
loadJobs();
</script>

{% endblock %}
